{"ast":null,"code":"var _jsxFileName = \"/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-07-phonebook/src/components/App/App.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ContactForm from '../ContactForm';\nimport ContactList from '../ContactList';\nimport Filter from '../Filter';\nimport Loader from '../../common/Loader';\nimport { getContacts, addContact, deleteContact } from 'redux/phoneBook/operation';\nimport { filterContacts } from 'redux/phoneBook/phoneBookActions';\nimport { contactsState, filterPhoneBook, loadingSelector } from '../../redux/phoneBook/phonebook-selectors';\nimport { ToastContainer, toast } from 'react-toastify/dist/react-toastify';\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from './App.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const loading = useSelector(loadingSelector);\n  const contactsBook = useSelector(contactsState);\n  const filterValueName = useSelector(filterPhoneBook);\n  const dispatch = useDispatch();\n  const [newContact, setNewContact] = useState(null);\n  const [deleteContactId, setDeleteContactId] = useState(null); //GET_CONTACTS\n\n  useEffect(() => {\n    dispatch(getContacts());\n  }, [dispatch]); //ADD_CONTACT\n\n  const confirmContact = contact => setNewContact(contact);\n\n  useEffect(() => {\n    if (!newContact) return;\n    const isHaveName = contactsBook.some(_ref => {\n      let {\n        name\n      } = _ref;\n      return name === newContact.name;\n    });\n\n    if (isHaveName) {\n      toast.error(`Контакт з ${newContact.name} вже існує :((`, {\n        icon: `❌`\n      });\n      setNewContact(null);\n    }\n\n    if (!isHaveName) {\n      dispatch(addContact(newContact));\n      toast.success(`Контакт  ${newContact.name} добавлено до списку контактів :))`, {\n        icon: `✅`\n      });\n      setNewContact(null);\n    }\n  }, [contactsBook, dispatch, newContact]); // FILTER CITY\n\n  const filterChangeInput = value => dispatch(filterContacts(value)); //Варіант з хуком USE MEMO\n\n\n  const filterContactsName = useMemo(() => {\n    const normalizedFilter = filterValueName.toLowerCase();\n    const finalArray = contactsBook && contactsBook.filter(contact => contact.name.toLowerCase().includes(normalizedFilter));\n\n    if (finalArray.length === 0 && filterValueName !== \"\") {\n      toast.info(`Усі контакти по запиту \"${filterValueName.toUpperCase()}\" були видалені ...✋!!`);\n      toast.warning(`Очистіть поле для запиту, щоб побачити усі контакти :)))`); // dispatch(filterContacts(\"\"))\n    }\n\n    return finalArray;\n  }, [contactsBook, filterValueName]); //DELETE_CONTACT \n\n  const onDeleteContact = useCallback(id => setDeleteContactId(id), []);\n  useEffect(() => {\n    if (!deleteContactId) return;\n    dispatch(deleteContact(deleteContactId));\n    toast.success(`Контакт видалений зі списку контактів :))`, {\n      icon: `❎`\n    });\n    setDeleteContactId(null);\n  }, [deleteContactId, dispatch]);\n\n  const normalizeName = name => name.split(' ').map(word => {\n    const firstUpCaseLetter = word.charAt(0).toUpperCase();\n    const anoterLetter = word.substring(1);\n    return `${firstUpCaseLetter}${anoterLetter}`;\n  }).join(' ');\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading && /*#__PURE__*/_jsxDEV(Loader, {\n      loading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.app,\n      children: [/*#__PURE__*/_jsxDEV(ContactForm, {\n        confirmContact: confirmContact,\n        normalizeName: normalizeName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 8\n      }, this), contactsBook.length > 0 && /*#__PURE__*/_jsxDEV(Filter, {\n        filterChangeInput: filterChangeInput,\n        value: filterValueName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), !contactsBook.length && !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please, add contact!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 42\n      }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n        filterContactsName: filterContactsName,\n        onDeleteContact: onDeleteContact\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n        theme: \"dark\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(App, \"4scmWu9JGtzHcjXyabmon/5xyCQ=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = App;\n\nconst memoize = fn => {\n  const cashe = {};\n  return function () {\n    console.log(`-------------------------`);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    console.log(`arg->>`, args);\n    const stringifiedArgs = JSON.stringify(args);\n    console.log(`stringifiedArgs->>>`, stringifiedArgs);\n    console.log(`cashe ->>>`, cashe);\n\n    if (cashe[stringifiedArgs]) {\n      return cashe[stringifiedArgs];\n    }\n\n    cashe[stringifiedArgs] = fn(...args);\n    return cashe[stringifiedArgs];\n  };\n};\n\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","useCallback","useMemo","useDispatch","useSelector","ContactForm","ContactList","Filter","Loader","getContacts","addContact","deleteContact","filterContacts","contactsState","filterPhoneBook","loadingSelector","ToastContainer","toast","s","App","loading","contactsBook","filterValueName","dispatch","newContact","setNewContact","deleteContactId","setDeleteContactId","confirmContact","contact","isHaveName","some","name","error","icon","success","filterChangeInput","value","filterContactsName","normalizedFilter","toLowerCase","finalArray","filter","includes","length","info","toUpperCase","warning","onDeleteContact","id","normalizeName","split","map","word","firstUpCaseLetter","charAt","anoterLetter","substring","join","app","memoize","fn","cashe","console","log","args","stringifiedArgs","JSON","stringify"],"sources":["/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-07-phonebook/src/components/App/App.jsx"],"sourcesContent":["import { useEffect,useState,useCallback,useMemo} from 'react';\nimport { useDispatch,useSelector } from 'react-redux';\n\nimport ContactForm from '../ContactForm';\nimport ContactList from '../ContactList';\nimport Filter from '../Filter';\nimport Loader from '../../common/Loader';\n\nimport { getContacts,addContact, deleteContact  } from 'redux/phoneBook/operation';\nimport { filterContacts } from 'redux/phoneBook/phoneBookActions';\nimport { contactsState, filterPhoneBook, loadingSelector } from '../../redux/phoneBook/phonebook-selectors'\n\nimport { ToastContainer,toast } from 'react-toastify/dist/react-toastify';\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport s from './App.module.css';\n\nconst App = () => {\n\n  const loading = useSelector(loadingSelector);\n  const contactsBook = useSelector(contactsState);\n  const filterValueName = useSelector(filterPhoneBook);\n  const dispatch = useDispatch();\n\n  const [newContact, setNewContact] = useState(null);\n  const [deleteContactId, setDeleteContactId] = useState(null);\n\n  //GET_CONTACTS\n\n  useEffect(() => {\n    dispatch(getContacts())\n  }, [dispatch])\n  \n  //ADD_CONTACT\n  const confirmContact = (contact) => setNewContact(contact);\n\n  useEffect(() => {\n    if (!newContact) return;\n    const isHaveName = contactsBook.some(({ name }) => name === newContact.name);\n\n    if (isHaveName) {\n      toast.error(`Контакт з ${newContact.name} вже існує :((`, { icon: `❌` });\n      setNewContact(null);\n    }\n    if (!isHaveName) {\n      dispatch(addContact(newContact));\n      toast.success(`Контакт  ${newContact.name} добавлено до списку контактів :))`, {\n        icon: `✅`\n      });\n      setNewContact(null);\n    }\n  }, [contactsBook, dispatch, newContact]);\n\n  // FILTER CITY\n\n  const filterChangeInput = (value) => dispatch(filterContacts(value))\n  \n  //Варіант з хуком USE MEMO\n  const filterContactsName = useMemo(() => {\n    const normalizedFilter = filterValueName.toLowerCase();\n\n    const finalArray = contactsBook && contactsBook.filter((contact) => contact.name.toLowerCase().includes(normalizedFilter));\n\n    if (finalArray.length === 0 && filterValueName !== \"\") {\n      toast.info(`Усі контакти по запиту \"${filterValueName.toUpperCase()}\" були видалені ...✋!!`)\n      toast.warning(`Очистіть поле для запиту, щоб побачити усі контакти :)))`)\n      // dispatch(filterContacts(\"\"))\n    }\n    return finalArray;\n  }, [contactsBook, filterValueName]);\n  \n  //DELETE_CONTACT \n\n  const onDeleteContact = useCallback((id) => setDeleteContactId(id),[]);\n\n  useEffect(() => {\n    if (!deleteContactId) return;\n    dispatch(deleteContact(deleteContactId));\n    toast.success(`Контакт видалений зі списку контактів :))`, {\n        icon: `❎`\n      });\n    setDeleteContactId(null);\n\n  }, [deleteContactId, dispatch])\n  \n  \n \n  const normalizeName = name => name\n      .split(' ')\n      .map(word => {\n        const firstUpCaseLetter = word.charAt(0).toUpperCase();\n        const anoterLetter = word.substring(1);\n        return `${firstUpCaseLetter}${anoterLetter}`;\n      })\n      .join(' ');\n\n  return (\n    <>\n      {loading && <Loader loading={loading}/>}\n      <div className={s.app}>\n      \n      {<ContactForm\n        confirmContact={confirmContact}\n        normalizeName={normalizeName}\n      />}\n    {contactsBook.length > 0 && (\n        <Filter\n          filterChangeInput={filterChangeInput}\n          value={filterValueName}\n      />\n  )}\n    {!contactsBook.length && !loading && <p>Please, add contact!</p>}\n      <ContactList\n        filterContactsName={filterContactsName}\n        onDeleteContact={onDeleteContact}\n      />\n      <ToastContainer theme=\"dark\"/>\n    </div>\n    </>\n    \n\n  );\n};\n\n\nconst memoize = fn => {\n  const cashe = {};\n\n  return (...args) => {\n    console.log(`-------------------------`);\n    console.log(`arg->>`, args);\n    const stringifiedArgs = JSON.stringify(args);\n    console.log(`stringifiedArgs->>>`, stringifiedArgs);\n    console.log(`cashe ->>>`, cashe);\n    if (cashe[stringifiedArgs]) {\n      return cashe[stringifiedArgs];\n    }\n\n    cashe[stringifiedArgs] = fn(...args);\n    \n    return cashe[stringifiedArgs]\n  }\n}\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}