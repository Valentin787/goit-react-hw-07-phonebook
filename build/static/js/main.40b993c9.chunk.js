(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{20:function(e,t,n){e.exports={wrapperInput:"Input_wrapperInput__1WYXU",labelTitle:"Input_labelTitle__3bDB-",input:"Input_input__KAHKD"}},24:function(e,t,n){e.exports={form:"ContactForm_form__1fuOn",btnAdd:"ContactForm_btnAdd__1TJSN"}},25:function(e,t,n){e.exports={item:"ItemContact_item__13Q_8",btnDel:"ItemContact_btnDel__2IseJ"}},26:function(e,t,n){e.exports={wrapLoader:"Loader_wrapLoader__1iiMv",modal:"Loader_modal__3eZ6g"}},39:function(e,t,n){e.exports={list:"ContactList_list__2T7aG"}},41:function(e,t,n){e.exports={app:"App_app__1IksY"}},72:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(12),r=n.n(c),o=n(10),i=n(43),u=n(34),s=n(6),l=n(35),d=n(8),f=n(36),b=n.n(f),j=n(44),p=n(5),m=n(9),O=n(28),h=n(37),g="https://621e9d00849220b1fc9db0af.mockapi.io/api/phone/contacts",C=function(){var e=Object(h.a)(Object(O.a)().mark((function e(t){var n,a,c=arguments;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,fetch("".concat(g,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.ok?a.json():Promise.reject(new Error(a.statusText)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v="/contacts",x=Object(s.c)("contacts/getContactsStatus",(function(){return C(v,e);var e})),_=Object(s.c)("contact/addContactStatus",(function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(m.a)({method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return C(e,a)}(v,e)})),y=Object(s.c)("contact/deleteContactStatus",(function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return C("".concat(e,"/").concat(t),Object(m.a)({method:"DELETE"},n))}(v,e)})),w=Object(s.b)("contacts/filter"),N=Object(s.d)([],(function(e){e.addCase(x.fulfilled,(function(e,t){return t.payload})),e.addCase(_.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(j.a)(e),[n])})),e.addCase(y.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n.id}))}))})),A=Object(s.d)(!1,(function(e){e.addCase(x.pending,(function(){return!0})),e.addCase(x.fulfilled,(function(){return!1})),e.addCase(x.rejected,(function(){return!1})),e.addCase(_.pending,(function(){return!0})),e.addCase(_.fulfilled,(function(){return!1})),e.addCase(_.rejected,(function(){return!1})),e.addCase(y.pending,(function(){return!0})),e.addCase(y.fulfilled,(function(){return!1})),e.addCase(y.rejected,(function(){return!1}))})),k=Object(s.d)(null,(function(e){e.addCase(x.pending,(function(){return null})),e.addCase(x.rejected,(function(e,t){return t.payload})),e.addCase(_.pending,(function(){return null})),e.addCase(_.rejected,(function(e,t){return t.payload})),e.addCase(y.pending,(function(){return null})),e.addCase(y.rejected,(function(e,t){return t.payload}))})),I=Object(s.d)("",(function(e){e.addCase(w,(function(e,t){return t.payload}))})),S=Object(p.b)({item:N,loading:A,error:k}),D=Object(p.b)({data:S,filter:I}),T=Object(l.createLogger)({collapsed:function(e,t,n){return!n.error},timestamp:!1,duration:!0}),L={key:"contacts/filter",storage:b.a,whitelist:["filter"]},z=Object(s.a)({reducer:{contacts:Object(d.g)(L,D)},middleware:function(e){return e({serializableCheck:{ignoredActions:[d.a,d.f,d.b,d.c,d.d,d.e]}}).concat(T)},devTools:!0}),E=Object(d.h)(z),F=n(14),J=n(38),P=n(19),U=n(20),Z=n.n(U),q=n(1),B=["label"],M=function(e){var t=e.label,n=Object(J.a)(e,B),c=Object(a.useRef)(Object(P.a)()).current;return Object(q.jsxs)("div",{className:Z.a.wrapperInput,children:[Object(q.jsxs)("label",{className:Z.a.labelTitle,htmlFor:c,children:[t,":"]}),Object(q.jsx)("input",Object(m.a)({className:Z.a.input,id:c},n))]})},K=n(24),Y=n.n(K),G=function(e){var t=e.confirmContact,n=e.normalizeName,c=Object(a.useState)(""),r=Object(F.a)(c,2),o=r[0],i=r[1],u=Object(a.useState)(""),s=Object(F.a)(u,2),l=s[0],d=s[1],f=function(){i(""),d("")};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("h1",{children:"Phonebook"}),Object(q.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={id:Object(P.a)(),name:n(o),number:l};t(a),f()},className:Y.a.form,children:[Object(q.jsx)(M,{label:"Name",type:"text",name:"name",onChange:function(e){return i(e.target.value)},value:o,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),Object(q.jsx)(M,{label:"Number",type:"tel",name:"number",onChange:function(e){return d(e.target.value)},value:l,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),Object(q.jsxs)("button",{type:"submit",className:Y.a.btnAdd,children:[" ","Add contact"]})]}),Object(q.jsx)("h2",{children:"Contacts"})]})},H=n(25),Q=n.n(H),R=function(e){var t=e.onDeleteContact,n=e.name,a=e.number,c=e.id;return Object(q.jsxs)("li",{className:Q.a.item,id:c,children:[n,": ",a,Object(q.jsx)("button",{className:Q.a.btnDel,onClick:t,type:"button",children:"Delete"})]})},W=n(39),X=n.n(W),$=function(e){var t=e.onDeleteContact,n=e.filterContactsName;return Object(q.jsx)("ul",{className:X.a.list,children:n&&n.map((function(e){var n=e.id,a=e.name,c=e.number;return Object(q.jsx)(R,{id:n,name:a,number:c,onDeleteContact:function(){return t(n)}},n)}))})};var V=function(e){var t=e.filterChangeInput,n=e.value;return Object(q.jsx)(M,{label:"Find contacts by name",type:"text",onChange:function(e){return t(e.target.value)},name:"filter",value:n})},ee=n(40),te=n.n(ee),ne=n(26),ae=n.n(ne),ce=document.querySelector("#loader");var re=function(e){var t=e.loading;return Object(c.createPortal)(Object(q.jsx)("div",{className:ae.a.wrapLoader,children:Object(q.jsx)("div",{className:ae.a.modal,children:Object(q.jsx)(te.a,{height:15,width:5,radius:2,margin:2,color:"#7814a0",loading:t,size:80})})}),ce)},oe=function(e){return e.contacts.data.item},ie=function(e){return e.contacts.data.loading},ue=function(e){return e.contacts.filter},se=n(11),le=(n(71),n(41)),de=n.n(le),fe=function(e){var t={};return function(){console.log("-------------------------");for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];console.log("arg->>",a);var r=JSON.stringify(a);return console.log("stringifiedArgs->>>",r),console.log("cashe ->>>",t),t[r]||(t[r]=e.apply(void 0,a)),t[r]}},be=fe((function(e,t,n){return console.log("multiply"),e*t*n})),je=fe((function(e,t,n){return console.log("add"),e+t+n}));console.log(be(1,2,3)),console.log(be(2,3,4)),console.log(je(1,2,3)),console.log(je(2,3,4)),console.log(be(1,2,3)),console.log(be(2,3,4)),console.log(je(1,2,3)),console.log(je(2,3,4));var pe=function(){var e=Object(o.c)(ie),t=Object(o.c)(oe),n=Object(o.c)(ue),c=Object(o.b)(),r=Object(a.useState)(null),i=Object(F.a)(r,2),u=i[0],s=i[1],l=Object(a.useState)(null),d=Object(F.a)(l,2),f=d[0],b=d[1];Object(a.useEffect)((function(){c(x())}),[c]);Object(a.useEffect)((function(){if(u){var e=t.some((function(e){return e.name===u.name}));e&&(se.toast.error("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0437 ".concat(u.name," \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454 :(("),{icon:"\u274c"}),s(null)),e||(c(_(u)),se.toast.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442  ".concat(u.name," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 :))"),{icon:"\u2705"}),s(null))}}),[t,c,u]);var j=Object(a.useMemo)((function(){var e=n.toLowerCase(),a=t&&t.filter((function(t){return t.name.toLowerCase().includes(e)}));return 0===a.length&&""!==n&&(se.toast.info('\u0423\u0441\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 \u043f\u043e \u0437\u0430\u043f\u0438\u0442\u0443 "'.concat(n.toUpperCase(),'" \u0431\u0443\u043b\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456 ...\u270b!!')),se.toast.warning("\u041e\u0447\u0438\u0441\u0442\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0442\u0443, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0443\u0441\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 :)))")),a}),[t,n]),p=Object(a.useCallback)((function(e){return b(e)}),[]);Object(a.useEffect)((function(){f&&(c(y(f)),se.toast.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439 \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 :))",{icon:"\u274e"}),b(null))}),[f,c]);return Object(q.jsxs)(q.Fragment,{children:[e&&Object(q.jsx)(re,{loading:e}),Object(q.jsxs)("div",{className:de.a.app,children:[Object(q.jsx)(G,{confirmContact:function(e){return s(e)},normalizeName:function(e){return e.split(" ").map((function(e){var t=e.charAt(0).toUpperCase(),n=e.substring(1);return"".concat(t).concat(n)})).join(" ")}}),t.length>0&&Object(q.jsx)(V,{filterChangeInput:function(e){return c(w(e))},value:n}),!t.length&&!e&&Object(q.jsx)("p",{children:"Please, add contact!"}),Object(q.jsx)($,{filterContactsName:j,onDeleteContact:p}),Object(q.jsx)(se.ToastContainer,{theme:"dark"})]})]})};n(72);r.a.render(Object(q.jsx)(o.a,{store:z,children:Object(q.jsx)(u.a,{loading:null,persistor:E,children:Object(q.jsx)(i.a,{children:Object(q.jsx)(pe,{})})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.40b993c9.chunk.js.map