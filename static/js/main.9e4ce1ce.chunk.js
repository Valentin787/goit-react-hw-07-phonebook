(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{19:function(t,e,n){t.exports={wrapperInput:"Input_wrapperInput__1WYXU",labelTitle:"Input_labelTitle__3bDB-",input:"Input_input__KAHKD"}},23:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",btnAdd:"ContactForm_btnAdd__1TJSN"}},24:function(t,e,n){t.exports={item:"ItemContact_item__13Q_8",btnDel:"ItemContact_btnDel__2IseJ"}},25:function(t,e,n){t.exports={wrapLoader:"Loader_wrapLoader__1iiMv",modal:"Loader_modal__3eZ6g"}},34:function(t,e,n){t.exports={list:"ContactList_list__2T7aG"}},36:function(t,e,n){t.exports={app:"App_app__1IksY"}},66:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(11),o=n.n(r),u=n(9),i=n(38),s=(n(47),n(13)),d=n(5),l=n(8),b=n(27),f=n(32),j="https://621e9d00849220b1fc9db0af.mockapi.io/api/phone/contacts",p=function(){var t=Object(f.a)(Object(b.a)().mark((function t(e){var n,a,c=arguments;return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},t.next=3,fetch("".concat(j,"/").concat(e),n);case 3:return a=t.sent,t.abrupt("return",a.ok?a.json():Promise.reject(new Error(a.statusText)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m="/contacts",O=Object(d.c)("contacts/getContactsStatus",(function(){return p(m,t);var t})),h=Object(d.c)("contact/addContactStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(l.a)({method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return p(t,a)}(m,t)})),C=Object(d.c)("contact/deleteContactStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return p("".concat(t,"/").concat(e),Object(l.a)({method:"DELETE"},n))}(m,t)})),v=n(33),x=n(18),g=n(19),_=n.n(g),y=n(1),N=["label"],w=function(t){var e=t.label,n=Object(v.a)(t,N),c=Object(a.useRef)(Object(x.a)()).current;return Object(y.jsxs)("div",{className:_.a.wrapperInput,children:[Object(y.jsxs)("label",{className:_.a.labelTitle,htmlFor:c,children:[e,":"]}),Object(y.jsx)("input",Object(l.a)({className:_.a.input,id:c},n))]})},I=n(23),S=n.n(I),k=function(t){var e=t.confirmContact,n=t.normalizeName,c=Object(a.useState)(""),r=Object(s.a)(c,2),o=r[0],u=r[1],i=Object(a.useState)(""),d=Object(s.a)(i,2),l=d[0],b=d[1],f=function(){u(""),b("")};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("h1",{children:"Phonebook"}),Object(y.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={id:Object(x.a)(),name:n(o),number:l};e(a),f()},className:S.a.form,children:[Object(y.jsx)(w,{label:"Name",type:"text",name:"name",onChange:function(t){return u(t.target.value)},value:o,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),Object(y.jsx)(w,{label:"Number",type:"tel",name:"number",onChange:function(t){return b(t.target.value)},value:l,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),Object(y.jsxs)("button",{type:"submit",className:S.a.btnAdd,children:[" ","Add contact"]})]}),Object(y.jsx)("h2",{children:"Contacts"})]})},A=n(24),D=n.n(A),T=function(t){var e=t.onDeleteContact,n=t.name,a=t.number,c=t.id;return Object(y.jsxs)("li",{className:D.a.item,id:c,children:[n,": ",a,Object(y.jsx)("button",{className:D.a.btnDel,onClick:e,type:"button",children:"Delete"})]})},L=n(34),E=n.n(L),F=function(t){var e=t.onDeleteContact,n=t.filterContactsName;return Object(y.jsx)("ul",{className:E.a.list,children:n&&n.map((function(t){var n=t.id,a=t.name,c=t.number;return Object(y.jsx)(T,{id:n,name:a,number:c,onDeleteContact:function(){return e(n)}},n)}))})};var z=function(t){var e=t.filterChangeInput,n=t.value;return Object(y.jsx)(w,{label:"Find contacts by name",type:"text",onChange:function(t){return e(t.target.value)},name:"filter",value:n})},J=n(35),P=n.n(J),M=n(25),U=n.n(M),Z=document.querySelector("#loader");var q=function(t){var e=t.loading;return Object(r.createPortal)(Object(y.jsx)("div",{className:U.a.wrapLoader,children:Object(y.jsx)("div",{className:U.a.modal,children:Object(y.jsx)(P.a,{height:15,width:5,radius:2,margin:2,color:"#7814a0",loading:e,size:80})})}),Z)},B=Object(d.b)("contacts/filter"),K=function(t){return t.contacts.data.item},Y=function(t){return t.contacts.data.loading},G=function(t){return t.contacts.filter},H=n(10),Q=(n(65),n(36)),R=n.n(Q),W=function(){var t=Object(u.c)(Y),e=Object(u.c)(K),n=Object(u.c)(G),c=Object(u.b)(),r=Object(a.useState)(null),o=Object(s.a)(r,2),i=o[0],d=o[1],l=Object(a.useState)(null),b=Object(s.a)(l,2),f=b[0],j=b[1];Object(a.useEffect)((function(){c(O())}),[c]);Object(a.useEffect)((function(){if(i){var t=e.some((function(t){return t.name===i.name}));t&&(H.toast.error("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0437 ".concat(i.name," \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454 :(("),{icon:"\u274c"}),d(null)),t||(c(h(i)),H.toast.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442  ".concat(i.name," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 :))"),{icon:"\u2705"}),d(null))}}),[e,c,i]);var p=Object(a.useMemo)((function(){var t=n.toLowerCase(),a=e&&e.filter((function(e){return e.name.toLowerCase().includes(t)}));return 0===a.length&&""!==n&&(H.toast.info('\u0423\u0441\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 \u043f\u043e \u0437\u0430\u043f\u0438\u0442\u0443 "'.concat(n.toUpperCase(),'" \u0431\u0443\u043b\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456 ...\u270b!!')),H.toast.warning("\u041e\u0447\u0438\u0441\u0442\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0442\u0443, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0443\u0441\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 :)))"),c(B(""))),a}),[e,c,n]),m=Object(a.useCallback)((function(t){return j(t)}),[]);Object(a.useEffect)((function(){f&&(c(C(f)),H.toast.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439 \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 :))",{icon:"\u274e"}),j(null))}),[f,c]);return Object(y.jsxs)(y.Fragment,{children:[t&&Object(y.jsx)(q,{loading:t}),Object(y.jsxs)("div",{className:R.a.app,children:[Object(y.jsx)(k,{confirmContact:function(t){return d(t)},normalizeName:function(t){return t.split(" ").map((function(t){var e=t.charAt(0).toUpperCase(),n=t.substring(1);return"".concat(e).concat(n)})).join(" ")}}),e.length>0&&Object(y.jsx)(z,{filterChangeInput:function(t){return c(B(t))},value:n}),!e.length&&!t&&Object(y.jsx)("p",{children:"Please, add contact!"}),Object(y.jsx)(F,{filterContactsName:p,onDeleteContact:m}),Object(y.jsx)(H.ToastContainer,{theme:"dark"})]})]})},X=n(39),$=n(7),V=Object(d.d)([],(function(t){t.addCase(O.fulfilled,(function(t,e){return e.payload})),t.addCase(h.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(X.a)(t),[n])})),t.addCase(C.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n.id}))}))})),tt=Object(d.d)(!1,(function(t){t.addCase(O.pending,(function(){return!0})),t.addCase(O.fulfilled,(function(){return!1})),t.addCase(O.rejected,(function(){return!1})),t.addCase(h.pending,(function(){return!0})),t.addCase(h.fulfilled,(function(){return!1})),t.addCase(h.rejected,(function(){return!1})),t.addCase(C.pending,(function(){return!0})),t.addCase(C.fulfilled,(function(){return!1})),t.addCase(C.rejected,(function(){return!1}))})),et=Object(d.d)(null,(function(t){t.addCase(O.pending,(function(){return null})),t.addCase(O.rejected,(function(t,e){return e.payload})),t.addCase(h.pending,(function(){return null})),t.addCase(h.rejected,(function(t,e){return e.payload})),t.addCase(C.pending,(function(){return null})),t.addCase(C.rejected,(function(t,e){return e.payload}))})),nt=Object(d.d)("",(function(t){t.addCase(B,(function(t,e){return e.payload}))})),at=Object($.b)({item:V,loading:tt,error:et}),ct=Object($.b)({data:at,filter:nt}),rt=Object(d.a)({reducer:{contacts:ct},middleware:function(t){return t()},devTools:!1});n(66);o.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(u.a,{store:rt,children:Object(y.jsx)(i.a,{children:Object(y.jsx)(W,{})})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.9e4ce1ce.chunk.js.map