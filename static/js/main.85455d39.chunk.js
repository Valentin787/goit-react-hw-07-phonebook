(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{20:function(t,e,n){t.exports={wrapperInput:"Input_wrapperInput__1WYXU",labelTitle:"Input_labelTitle__3bDB-",input:"Input_input__KAHKD"}},24:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",btnAdd:"ContactForm_btnAdd__1TJSN"}},25:function(t,e,n){t.exports={item:"ItemContact_item__13Q_8",btnDel:"ItemContact_btnDel__2IseJ"}},26:function(t,e,n){t.exports={wrapLoader:"Loader_wrapLoader__1iiMv",modal:"Loader_modal__3eZ6g"}},39:function(t,e,n){t.exports={list:"ContactList_list__2T7aG"}},41:function(t,e,n){t.exports={app:"App_app__1IksY"}},72:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(12),o=n.n(r),i=n(10),u=n(43),s=n(34),l=n(6),d=n(35),b=n(8),f=n(36),j=n.n(f),p=n(44),m=n(5),O=n(9),h=n(28),C=n(37),g="https://621e9d00849220b1fc9db0af.mockapi.io/api/phone/contacts",x=function(){var t=Object(C.a)(Object(h.a)().mark((function t(e){var n,a,c=arguments;return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},t.next=3,fetch("".concat(g,"/").concat(e),n);case 3:return a=t.sent,t.abrupt("return",a.ok?a.json():Promise.reject(new Error(a.statusText)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v="/contacts",_=Object(l.c)("contacts/getContactsStatus",(function(){return x(v,t);var t})),y=Object(l.c)("contact/addContactStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(O.a)({method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return x(t,a)}(v,t)})),w=Object(l.c)("contact/deleteContactStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return x("".concat(t,"/").concat(e),Object(O.a)({method:"DELETE"},n))}(v,t)})),N=Object(l.b)("contacts/filter"),k=Object(l.d)([],(function(t){t.addCase(_.fulfilled,(function(t,e){return e.payload})),t.addCase(y.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(p.a)(t),[n])})),t.addCase(w.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n.id}))}))})),A=Object(l.d)(!1,(function(t){t.addCase(_.pending,(function(){return!0})),t.addCase(_.fulfilled,(function(){return!1})),t.addCase(_.rejected,(function(){return!1})),t.addCase(y.pending,(function(){return!0})),t.addCase(y.fulfilled,(function(){return!1})),t.addCase(y.rejected,(function(){return!1})),t.addCase(w.pending,(function(){return!0})),t.addCase(w.fulfilled,(function(){return!1})),t.addCase(w.rejected,(function(){return!1}))})),I=Object(l.d)(null,(function(t){t.addCase(_.pending,(function(){return null})),t.addCase(_.rejected,(function(t,e){return e.payload})),t.addCase(y.pending,(function(){return null})),t.addCase(y.rejected,(function(t,e){return e.payload})),t.addCase(w.pending,(function(){return null})),t.addCase(w.rejected,(function(t,e){return e.payload}))})),S=Object(l.d)("",(function(t){t.addCase(N,(function(t,e){return e.payload}))})),D=Object(m.b)({item:k,loading:A,error:I}),T=Object(m.b)({data:D,filter:S}),L=Object(d.createLogger)({collapsed:function(t,e,n){return!n.error},timestamp:!1,duration:!0}),E={key:"contacts/filter",storage:j.a,whitelist:["filter"]},F=Object(l.a)({reducer:{contacts:Object(b.g)(E,T)},middleware:function(t){return t({serializableCheck:{ignoredActions:[b.a,b.f,b.b,b.c,b.d,b.e]}}).concat(L)},devTools:!0}),z=Object(b.h)(F),J=n(14),P=n(38),M=n(19),U=n(20),Z=n.n(U),q=n(1),B=["label"],K=function(t){var e=t.label,n=Object(P.a)(t,B),c=Object(a.useRef)(Object(M.a)()).current;return Object(q.jsxs)("div",{className:Z.a.wrapperInput,children:[Object(q.jsxs)("label",{className:Z.a.labelTitle,htmlFor:c,children:[e,":"]}),Object(q.jsx)("input",Object(O.a)({className:Z.a.input,id:c},n))]})},Y=n(24),G=n.n(Y),H=function(t){var e=t.confirmContact,n=Object(a.useState)(""),c=Object(J.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(""),u=Object(J.a)(i,2),s=u[0],l=u[1],d=function(t){return t.split(" ").map((function(t){var e=t.charAt(0).toUpperCase(),n=t.substring(1);return"".concat(e).concat(n)})).join(" ")},b=function(){o(""),l("")};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("h1",{children:"Phonebook"}),Object(q.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={id:Object(M.a)(),name:d(r),number:s};e(n),b()},className:G.a.form,children:[Object(q.jsx)(K,{label:"Name",type:"text",name:"name",onChange:function(t){return o(t.target.value)},value:r,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),Object(q.jsx)(K,{label:"Number",type:"tel",name:"number",onChange:function(t){return l(t.target.value)},value:s,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),Object(q.jsxs)("button",{type:"submit",className:G.a.btnAdd,children:[" ","Add contact"]})]}),Object(q.jsx)("h2",{children:"Contacts"})]})},Q=n(25),R=n.n(Q),W=function(t){var e=t.onDeleteContact,n=t.name,a=t.number,c=t.id;return Object(q.jsxs)("li",{className:R.a.item,id:c,children:[n,": ",a,Object(q.jsx)("button",{className:R.a.btnDel,onClick:e,type:"button",children:"Delete"})]})},X=n(39),$=n.n(X),V=function(t){var e=t.onDeleteContact,n=t.filterContactsName;return Object(q.jsx)("ul",{className:$.a.list,children:n&&n.map((function(t){var n=t.id,a=t.name,c=t.number;return Object(q.jsx)(W,{id:n,name:a,number:c,onDeleteContact:function(){return e(n)}},n)}))})};var tt=function(t){var e=t.filterChangeInput,n=t.value;return Object(q.jsx)(K,{label:"Find contacts by name",type:"text",onChange:function(t){return e(t.target.value)},name:"filter",value:n})},et=n(40),nt=n.n(et),at=n(26),ct=n.n(at),rt=document.querySelector("#loader");var ot=function(t){var e=t.loading;return Object(r.createPortal)(Object(q.jsx)("div",{className:ct.a.wrapLoader,children:Object(q.jsx)("div",{className:ct.a.modal,children:Object(q.jsx)(nt.a,{height:15,width:5,radius:2,margin:2,color:"#7814a0",loading:e,size:80})})}),rt)},it=function(t){return t.contacts.data.item},ut=function(t){return t.contacts.data.loading},st=function(t){return t.contacts.filter},lt=n(11),dt=(n(71),n(41)),bt=n.n(dt),ft=function(){var t=Object(i.c)(ut),e=Object(i.c)(it),n=Object(i.c)(st),c=Object(i.b)(),r=Object(a.useState)(null),o=Object(J.a)(r,2),u=o[0],s=o[1],l=Object(a.useState)(null),d=Object(J.a)(l,2),b=d[0],f=d[1];Object(a.useEffect)((function(){c(_())}),[c]);Object(a.useEffect)((function(){if(u){var t=e.some((function(t){return t.name===u.name}));t&&(lt.toast.error("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0437 ".concat(u.name," \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454 :(("),{icon:"\u274c"}),s(null)),t||(c(y(u)),lt.toast.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442  ".concat(u.name," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 :))"),{icon:"\u2705"}),s(null))}}),[e,c,u]);var j=Object(a.useMemo)((function(){var t=n.toLowerCase(),a=e&&e.filter((function(e){return e.name.toLowerCase().includes(t)}));return 0===a.length&&""!==n&&(lt.toast.info('\u0423\u0441\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 \u043f\u043e \u0437\u0430\u043f\u0438\u0442\u0443 "'.concat(n.toUpperCase(),'" \u0431\u0443\u043b\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456 ...\u270b!!')),lt.toast.warning("\u041e\u0447\u0438\u0441\u0442\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0442\u0443, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0443\u0441\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 :)))")),a}),[e,n]),p=Object(a.useCallback)((function(t){return f(t)}),[]);return Object(a.useEffect)((function(){b&&(c(w(b)),lt.toast.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439 \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 :))",{icon:"\u274e"}),f(null))}),[b,c]),Object(q.jsxs)(q.Fragment,{children:[t&&Object(q.jsx)(ot,{loading:t}),Object(q.jsxs)("div",{className:bt.a.app,children:[Object(q.jsx)(H,{confirmContact:function(t){return s(t)}}),e.length>0&&Object(q.jsx)(tt,{filterChangeInput:function(t){return c(N(t))},value:n}),!e.length&&!t&&Object(q.jsx)("p",{children:"Please, add contact!"}),Object(q.jsx)(V,{filterContactsName:j,onDeleteContact:p}),Object(q.jsx)(lt.ToastContainer,{theme:"dark"})]})]})};n(72);o.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsx)(i.a,{store:F,children:Object(q.jsx)(s.a,{loading:null,persistor:z,children:Object(q.jsx)(u.a,{children:Object(q.jsx)(ft,{})})})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.85455d39.chunk.js.map